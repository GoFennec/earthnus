<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
  
<mapper namespace="kr.co.earthnus.user.cheBoard.CheBoardMybatis">
      
      
      
      
      
      
      <resultMap id="CheBoardResult" type="cheBoard">
		<id property="cheb_num" column="CHEB_NUM"/>
		<result property="cheb_id" column="CHEB_ID"/>
		<result property="cheb_name" column="CHEB_NAME"/>
		<result property="cheb_dname" column="CHEB_DNUM"/>
		<result property="cheb_content" column="CHEB_CONTENT"/>
		<result property="cheb_date" column="CHEB_DATE"/>
	
	</resultMap>
      
      
		<insert id ="replyInsert" parameterType = "cheBoard">
			<![CDATA[
	        INSERT INTO CHEBOARD (CHEB_ID,CHEB_NAME,cheb_dname,cheb_content)
	        VALUES
	        (
		        #{cheb_id},
		        #{cheb_name},
		        #{cheb_dname},
		        #{cheb_content}
	        )
	        ]]>
		</insert>
      
      <insert id ="Comment_like" parameterType ="like_bean">
			<![CDATA[
	       		 INSERT INTO COMMENT_LIKE VALUES( #{comment_num}, #{comment_user_id});
	        ]]>
		</insert>
      
      
      
      
      
      <select id="select_dname"  parameterType="String" resultType="pay">
      	<![CDATA[
			select * from pay where PAY_COMMENT='N' and pay_id=#{user_id}
		]]>
      </select>
      
     <select id="CheBoardList" resultMap="CheBoardResult">
        <![CDATA[
            SELECT * FROM CHEBOARD ORDER BY CHEB_NUM DESC LIMIT #{comment_step} OFFSET #{startnum}
        ]]>
     </select>
      
      
      <delete id="replyDelete" parameterType="int">
      		DELETE FROM CHEBOARD WHERE CHEB_NUM=#{reply_id}
      </delete>
</mapper>