<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
  PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
  "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="kr.co.earthnus.admin.exGoods.AdExGoodsMybatis">

	<resultMap id="exGoodsResult" type="exGoods">
		<id property="exg_num" column="EXG_NUM"/>
		<result property="exg_id" column="EXG_ID"/>
		<result property="exg_name" column="EXG_NAME"/>
		<result property="exg_addr" column="EXG_ADDR"/>
		<result property="exg_gnum" column="EXG_GNUM"/>
		<result property="exg_gname" column="EXG_GNAME"/>
		<result property="exg_point" column="EXG_POINT"/>
		<result property="exg_date" column="EXG_DATE"/>
	</resultMap>
	
	<select id="adExGoodsCount" resultType="int">
		<![CDATA[
			SELECT COUNT(*) FROM EXGOODS
		]]>
	</select>
	
	<select id="getAdExGoodsList" resultMap="exGoodsResult">
		<![CDATA[
			SELECT * FROM EXGOODS ORDER BY EXG_NUM DESC LIMIT #{contentnum} OFFSET #{pagenum} 
		]]>
	</select>
	
	<select id="getExGoodsU" resultType="exGoods" parameterType="int">
		<![CDATA[
			SELECT * FROM EXGOODS WHERE EXG_NUM=#{exGoodsNumU}
		]]>
	</select>
	
	<update id="updateExGoodsOk">
		<![CDATA[
			UPDATE EXGOODS SET EXG_ADDR=#{exg_addr} WHERE EXG_NUM=#{exg_num}
		]]>
	</update>
	
	<select id="getExGoodsD" resultType="exGoods" parameterType="int">
		<![CDATA[
			SELECT * FROM EXGOODS WHERE EXG_NUM=#{exGoodsNumD}
		]]>
	</select>
	
	<delete id="deleteExGoods" parameterType="int">
		<![CDATA[
			DELETE FROM EXGOODS WHERE EXG_NUM=#{exGoodsNumD}
		]]>
	</delete>
	
	<update id="updatePoint" parameterType="hashMap">
		<![CDATA[
			UPDATE MEMBER SET MEM_POINT=MEM_POINT+#{point} WHERE MEM_ID=#{id}
		]]>
	</update>
	
</mapper>