<?xml version="1.0" encoding="UTF-8"?>

<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
"http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="kr.co.earthnus.admin.chart.AdChartMybatis">

	<select id="selectPlastic" resultType="int">
		SELECT COUNT(*) FROM PAY WHERE PAY_DNAME='플라스틱 줄이기' OR PAY_DNAME='해양 청소' OR PAY_DNAME='대지 청소' OR PAY_DNAME='친환경'
	</select>
	
	<select id="selectOcean" resultType="int">
		SELECT COUNT(*) FROM PAY WHERE PAY_DNAME='조개' OR PAY_DNAME='새우' OR PAY_DNAME='문어' OR PAY_DNAME='바다'
	</select>
	
	<select id="selectIce" resultType="int">
		SELECT COUNT(*) FROM PAY WHERE PAY_DNAME='작은 얼음' OR PAY_DNAME='큰 얼음' OR PAY_DNAME='빙하 조각' OR PAY_DNAME='빙하'
	</select>
	
	<select id="selectForest" resultType="int">
		SELECT COUNT(*) FROM PAY WHERE PAY_DNAME='새싹' OR PAY_DNAME='묘목' OR PAY_DNAME='나무' OR PAY_DNAME='숲'
	</select>
	
	<select id="countVisitor" parameterType="int" resultType="int">
		select count(*) from visitor where date_format(visit_time,'%Y-%m-%d') = date_format(date_add(now(), interval - ${i} day),'%Y-%m-%d');
	</select>
	
</mapper>